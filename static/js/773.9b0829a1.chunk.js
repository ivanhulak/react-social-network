"use strict";(self.webpackChunkreact_social_network=self.webpackChunkreact_social_network||[]).push([[773],{2795:function(n,e,r){r.r(e),r.d(e,{default:function(){return W}});var o,t,i,s,a,l,u,c,d=r(2791),f=r(8687),g=r(7105),p=function(n){return n.usersPage.users},x=function(n){return n.usersPage.totalItemsCount},m=function(n){return n.usersPage.pageSize},h=function(n){return n.usersPage.currentPage},b=function(n){return n.usersPage.isFetching},A=function(n){return n.usersPage.followingInProgress},v=function(n){return n.usersPage.filter},j=r(6152),k=r(2982),w=r(885),P=r(168),Z=r.p+"static/media/userPhoto.4ce1ce10ce20ffcefb44.png",S=r(1087),C=r(6444),I=r(184),N=C.ZP.div(o||(o=(0,P.Z)(["\n  padding: 20px 10px;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  justify-self: center;\n  cursor: pointer;\n  border-radius: 20px;\n  overflow: hidden;\n  min-width: 200px;\n  min-height: 200px;\n  border: 1px solid transparent;\n  transition: all .4s ease;\n  &:hover {\n    border: 1px solid rgb(195, 195, 195);\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.additional})),F=C.ZP.div(t||(t=(0,P.Z)(["\n  margin-bottom: 20px;\n  max-width: 100px;\n  max-height: 100px;\n  img{\n    max-width: 100%;\n  }\n"]))),U=C.ZP.div(i||(i=(0,P.Z)(["\n  color: ",";\n  font-weight: 700;\n  font-size: 20px;\n  margin-bottom: 5px;\n  flex: 1 1 auto;\n"])),(function(n){return n.theme.headersColor})),y=C.ZP.button(s||(s=(0,P.Z)(["\n  background-color: #eee;\n  font-size: 20px;\n  border: 1px solid #000;\n  border-radius: 24px;\n  padding: 5px 15px;\n  cursor: pointer;\n  transition: ease 0.3s all;\n  &:hover {\n    background-color: #000;\n    color: #fff;\n  }\n  &:active {\n    background-color: #666;\n    color: #fff;\n    transform: translate(2px, 3px);\n  }\n"]))),B=function(n){return(0,I.jsxs)(N,{children:[(0,I.jsx)(F,{children:(0,I.jsx)(S.rU,{to:"/profile/"+n.userId,children:(0,I.jsx)("img",{src:n.userPhoto?n.userPhoto:Z,alt:"User Avatar"})})}),(0,I.jsx)(U,{children:(0,I.jsx)("div",{children:n.userName})}),(0,I.jsx)("div",{children:n.followed?(0,I.jsx)(y,{disabled:n.followingInProgress.some((function(e){return e===n.userId})),onClick:function(){n.unfollow(n.userId)},children:"Unfollow"}):(0,I.jsx)(y,{disabled:n.followingInProgress.some((function(e){return e===n.userId})),onClick:function(){n.follow(n.userId)},children:"Follow"})})]})},z=r(4942),M=r(1694),Q=r.n(M),Y=r(1682),E=C.ZP.div(a||(a=(0,P.Z)(["\n   .currentPage {\n      font-weight: 700;\n      background-color: rgb(136, 109, 245);\n      color: #fff;\n   }\n   .pageNumber {\n      color: ",";\n      font-size: 20px;\n      border: 1px solid ",";\n      border-radius: 24px;\n      padding: 5px 15px;\n      cursor: pointer;\n      transition: ease 0.3s all;\n      &:hover {\n         background-color: ",";\n         color: #fff;\n      }\n      &:active {\n         background-color: #666;\n         color: #fff;\n         transform: translate(2px, 3px);\n      }\n   }\n"])),(function(n){return n.theme.BlackWhite}),(function(n){return n.theme.paginationBtn}),(function(n){return n.theme.headersColor})),R=function(n){for(var e=n.totalItemsCount,r=n.pageSize,o=n.currentPage,t=n.onPageChanged,i=n.portionSize,s=void 0===i?10:i,a=Math.ceil(e/r),l=Math.ceil(a/s),u=(0,d.useState)(1),c=(0,w.Z)(u,2),f=c[0],g=c[1],p=(f-1)*s+1,x=f*s,m=[],h=1;h<=a;h++)m.push(h);return(0,I.jsxs)(I.Fragment,{children:[f>1&&(0,I.jsx)(Y.a,{btn_text:"Prev",onClickCallback:function(){g(f-1)}}),m.filter((function(n){return n>=p&&n<=x})).map((function(n){return(0,I.jsx)(E,{children:(0,I.jsx)("button",{onClick:function(e){t(n)},className:Q()((0,z.Z)({},"currentPage",o===n),"pageNumber"),children:n})},n)})),f<l&&(0,I.jsx)(Y.a,{btn_text:"Next",onClickCallback:function(){g(f+1)}})]})},V=r(5705),T=C.ZP.form(l||(l=(0,P.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 30px;\n    .inputTerm{\n        padding: 7px 10px 7px 40px;\n        border: none;\n        background: url(",") 10px center no-repeat;\n        background-color: rgb(227, 227, 227);\n        font-size: 18px;\n        border-radius: 24px;\n        transition: all .3s ease;\n        cursor: pointer;\n        border: 1px solid rgb(227, 227, 227);\n        &:hover {\n            background-color: ",";\n            border: 1px solid rgb(136, 109, 245);\n        }\n        &:focus {\n            background-color: ",";\n            outline: none;\n        }\n    }\n    .selectField{\n        width: 100%;\n        min-width: 15ch;\n        max-width: 30ch;\n        border: 1px solid var(--select-border);\n        border-radius: 0.25em;\n        padding: 0.25em 0.5em;\n        font-size: 1.25rem;\n        cursor: pointer;\n        line-height: 1.1;\n        background-color: #fff;\n        background-image: linear-gradient(to top, #f1f1f1, #fff 33%);\n        &:focus{\n            outline: none;\n        }\n    }\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEnSURBVDiNldK/K4VxFMfx1+UOTAoZDAaLRCjXdPMHoAwMFpkMUhSbzV9gsSlKdxBJ7FiwEClkUxaKgUgpP4fne+vieS4+y/N0+px3n/M9h2SlMYwdPOAJB5hEed6USmiuxAaaMYc9vKEdI7hDNy7jmlPYxjFqQ60Z42hABbZwirI4QH+IW1dQ68VJSDEWINeYiAOsYiFhtEG8oB7T2I8znWI0AQB9okfswWM6xvAs2kCS1sK3HM8lMYYzZIsA8soG7w91iuZs/QVwhaHvxTRm8SHacVsRQCNShYdUjRU0YR5TeMU6dvGODGrQ9Z3WggschhFuMRP+F0UnfIJl0QV+UQfusYQqHGFT8U180TlyKA2QiwD6s/JxcyFJy3+aYQA3ogvM/Lf5E8Z7PfkalA9mAAAAAElFTkSuQmCC",(function(n){return n.theme.usersSearch}),(function(n){return n.theme.usersSearch})),D=C.ZP.button(u||(u=(0,P.Z)(["\n    font-size: 18px;\n    padding: 6px 15px;\n    border-radius: 10px;\n    background-color: rgb(227, 227, 227);\n    transition: .3s all ease;\n    border: 1px solid #eee;\n    cursor: pointer;\n    &:hover {\n        background-color: ",";\n        border: 1px solid rgb(136, 109, 245);\n    }\n"])),(function(n){return n.theme.usersSearch})),H=d.memo((function(n){var e=n.onFilterChanged,r=(0,f.v9)((function(n){return n.usersPage.filter}));return(0,I.jsx)(V.J9,{enableReinitialize:!0,initialValues:{term:r.term,friend:String(r.friend)},onSubmit:function(n,r){var o=r.setSubmitting,t={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};e(t),o(!1)},children:function(n){var e=n.handleSubmit,r=n.isSubmitting;return(0,I.jsxs)(T,{onSubmit:e,children:[(0,I.jsx)(V.gN,{type:"text",name:"term",className:"inputTerm"}),(0,I.jsxs)(V.gN,{as:"select",name:"friend",className:"selectField",children:[(0,I.jsx)("option",{value:"null",children:"All Users"}),(0,I.jsx)("option",{value:"true",children:"Only friends"}),(0,I.jsx)("option",{value:"false",children:"Only not friends"})]}),(0,I.jsx)(D,{type:"submit",disabled:r,children:"Search"})]})}})})),K=r(2988),O=r(7689),J=C.ZP.div(c||(c=(0,P.Z)(["\n    padding: 0px 20px;\n    .usersSearchForm{\n        margin-bottom: 30px;\n    }\n    .userItemsRow{\n        display: grid;\n        grid-template-columns: repeat(4, 1fr);\n        gap: 10px;\n        margin-bottom: 20px;\n    }\n    .paginationBlock{\n        display: flex;\n        justify-content: center;\n        gap: 10px;\n    }\n"]))),G=function(){var n=(0,f.v9)(p),e=(0,f.v9)(A),r=(0,f.v9)(v),o=(0,f.v9)(m),t=(0,f.v9)(h),i=(0,f.v9)(x),s=(0,O.s0)(),a=(0,S.lr)(),l=(0,w.Z)(a,1)[0],u=(0,f.I0)(),c=function(n){u((0,K.ZN)(n))},g=function(n){u((0,K.fv)(n))};(0,d.useEffect)((function(){var n=Object.fromEntries((0,k.Z)(l)),e=n.term,i=n.friend,s=n.page,a=t,c=r;switch(s&&(a=Number(n.page)),e&&(c=(0,j.Z)((0,j.Z)({},c),{},{term:e})),i){case"null":c=(0,j.Z)((0,j.Z)({},c),{},{friend:null});break;case"true":c=(0,j.Z)((0,j.Z)({},c),{},{friend:!0});break;case"false":c=(0,j.Z)((0,j.Z)({},c),{},{friend:!1})}u((0,K.D7)(a,o,c))}),[]),(0,d.useEffect)((function(){s("/users?term=".concat(r.term,"&friend=").concat(r.friend,"&page=").concat(t))}),[r,t]);return(0,I.jsxs)(J,{children:[(0,I.jsx)("div",{className:"usersSearchForm",children:(0,I.jsx)(H,{onFilterChanged:function(n){u((0,K.D7)(1,o,n))}})}),(0,I.jsx)("div",{className:"userItemsRow",children:n.map((function(n){return(0,I.jsx)(B,{userId:n.id,userPhoto:n.photos.small,followed:n.followed,userName:n.name,followingInProgress:e,follow:c,unfollow:g},n.id)}))}),(0,I.jsx)("div",{className:"paginationBlock",children:(0,I.jsx)(R,{currentPage:t,totalItemsCount:i,pageSize:o,onPageChanged:function(n){u((0,K.D7)(n,o,r))},portionSize:10})})]})},W=function(){var n=(0,f.v9)(b);return(0,I.jsxs)(I.Fragment,{children:[n?(0,I.jsx)(g.p,{}):null,(0,I.jsx)(G,{})]})}}}]);
//# sourceMappingURL=773.9b0829a1.chunk.js.map