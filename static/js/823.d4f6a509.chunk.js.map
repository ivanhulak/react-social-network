{"version":3,"file":"static/js/823.d4f6a509.chunk.js","mappings":"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","sources":["webpack://react-social-network/./src/components/Users/UserItem/UserItem.module.css?e716","components/Users/UserItem/UserItem.jsx","webpack://react-social-network/./src/components/Users/Users.module.css?b9d0","webpack://react-social-network/./src/common/Pagination/Paginator.module.css?05a8","common/Pagination/Paginator.jsx","components/Users/Users.jsx","redux/selectors/users-selectors.js","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userItem\":\"UserItem_userItem__2ZGYG\",\"userItemInner\":\"UserItem_userItemInner__D9hRa\",\"itemImage\":\"UserItem_itemImage__+-auL\",\"itemInfo\":\"UserItem_itemInfo__Lfxh8\",\"ItemStatus\":\"UserItem_ItemStatus__YkVdZ\",\"isFetching\":\"UserItem_isFetching__ldZDF\"};","import React from \"react\";\nimport styles from './UserItem.module.css';\nimport userPhoto from './../../../assets/images/userPhoto.png'\nimport { Link } from \"react-router-dom\";\nimport * as axios from 'axios';\n\nconst UserItem = (props) => {\n  return (\n    <div className={styles.userItem}>\n      <div className={styles.userItemInner}>\n        <div className={styles.itemImage}>\n          <Link to={'/profile/' + props.userId}>\n            <img src={props.userPhoto ? props.userPhoto : userPhoto} alt=\"User Avatar\" />\n          </Link>\n        </div>\n        <div className={styles.itemInfo}>\n          <div>Name: {props.userName}</div>\n        </div>\n        <div className={styles.ItemStatus}>{props.status}</div>\n        <div>\n          {props.followed\n            ? <button disabled={props.followingInProgress.some(id => id === props.userId)}\n              onClick={() => {\n                props.setIsFetching(true);\n                props.setFollowingInProgress(true, props.userId);\n                axios.delete(`https://social-network.samuraijs.com/api/1.0/follow/${props.userId}`, {\n                  withCredentials: true,\n                  headers: {\n                    'API-KEY': '0f7ca0a1-1142-4ef6-a871-38727982b107'\n                  }\n                }).then(response => {\n                    if (response.data.resultCode === 0) {\n                      props.unfollowSuccess(props.userId)\n                    }\n                    props.setIsFetching(false);\n                    props.setFollowingInProgress(false, props.userId);\n                  })\n              }}>Unfollow</button>\n            : <button disabled={props.followingInProgress.some(id => id === props.userId)}\n              onClick={() => {\n                props.setIsFetching(true);\n                props.setFollowingInProgress(true, props.userId);\n                axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${props.userId}`, {}, {\n                  withCredentials: true,\n                  headers: {\n                    'API-KEY': '0f7ca0a1-1142-4ef6-a871-38727982b107'\n                  }\n                }).then(response => {\n                    if (response.data.resultCode === 0) {\n                      props.followSuccess(props.userId)\n                    }\n                    props.setIsFetching(false);\n                    props.setFollowingInProgress(false, props.userId);\n                  })\n              }}>Follow</button>\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default UserItem;","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__oN5Ju\",\"userItemsRow\":\"Users_userItemsRow__TA4od\",\"paginationBlock\":\"Users_paginationBlock__BGfUr\"};","// extracted by mini-css-extract-plugin\nexport default {\"currentPage\":\"Paginator_currentPage__fDxwj\",\"prevAndNextBtn\":\"Paginator_prevAndNextBtn__9kSXl\"};","import React from 'react';\nimport { useState } from 'react';\nimport styles from './Paginator.module.css';\n\nconst Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\n   let pagesCount = Math.ceil(totalItemsCount / pageSize);\n   let portionCount = Math.ceil(pagesCount / portionSize);\n   let [portionNumber, setPortionNumber] = useState(1);\n   let leftBorderElement = (portionNumber - 1) * portionSize + 1\n   let rightBorderElement = portionNumber * portionSize;\n\n   let pages = []\n   for (let i = 1; i <= pagesCount; i++) {\n      pages.push(i);\n   }\n\n   return <>\n      {portionNumber > 1 &&\n         <button className={styles.prevAndNextBtn} onClick={() => { setPortionNumber(portionNumber - 1) }}>Prev</button>}\n      {pages.filter(p => p >= leftBorderElement && p <= rightBorderElement).map(p => {\n         return (\n            <div key={p}>\n               <button\n                  onClick={(e) => { onPageChanged(p) }}\n                  className={currentPage === p ? styles.currentPage : ''}>{p}</button>\n            </div>\n         );\n      })}\n      {portionNumber < portionCount &&\n         <button className={styles.prevAndNextBtn} onClick={() => { setPortionNumber(portionNumber + 1) }}>Next</button>}\n   </>\n}\n\nexport default Paginator;","import React from \"react\";\nimport UserItem from \"./UserItem/UserItem\";\nimport styles from './Users.module.css';\nimport Paginator from '../../common/Pagination/Paginator';\n\nconst Users = (props) => {\n    return (\n        <div className={styles.users}>\n            <div className={styles.userItemsRow}>\n                {props.users.map(u => <UserItem key={u.id} userId={u.id}\n                    userPhoto={u.photos.small}\n                    followed={u.followed}\n                    userName={u.name}\n                    status={u.status}\n                    isFetching={props.isFetching}\n                    setIsFetching={props.setIsFetching}\n                    setFollowingInProgress={props.setFollowingInProgress}\n                    followingInProgress={props.followingInProgress}\n                    followSuccess={props.followSuccess}\n                    unfollowSuccess={props.unfollowSuccess} />)}\n            </div>\n            <div className={styles.paginationBlock}>\n                <Paginator currentPage={props.currentPage} totalItemsCount={props.totalItemsCount}\n                    pageSize={props.pageSize} onPageChanged={props.onPageChanged} portionSize={10} />\n            </div>\n\n        </div>\n    );\n}\n\n\nexport default Users;","export const getUsers = (state) => {\n   return state.usersPage.users;\n}\nexport const getTotalItemsCount = (state) => {\n   return state.usersPage.totalItemsCount;\n}\nexport const getPageSize = (state) => {\n   return state.usersPage.pageSize;\n}\nexport const getCurrentPage = (state) => {\n   return state.usersPage.currentPage;\n}\nexport const getIsFetching = (state) => {\n   return state.usersPage.isFetching;\n}\nexport const getFollowingInProgress = (state) => {\n   return state.usersPage.followingInProgress;\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n    setIsFetching, setFollowingInProgress, requestUsers,\n    followSuccess, unfollowSuccess\n} from \"../../redux/users-reducer\";\nimport Users from './Users';\nimport Preloader from \"../../common/Preloader\";\nimport { compose } from \"redux\";\nimport {\n    getCurrentPage, getFollowingInProgress, getIsFetching,\n    getPageSize, getTotalItemsCount, getUsers\n} from \"../../redux/selectors/users-selectors\";\n\nclass UsersAPIComponent extends React.Component {\n    componentDidMount() {\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\n    }\n\n    onPageChanged = (page) => {\n        this.props.requestUsers(page, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader /> : null}\n            <Users totalItemsCount={this.props.totalItemsCount}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                users={this.props.users}\n                onPageChanged={this.onPageChanged}\n                isFetching={this.props.isFetching}\n                setIsFetching={this.props.setIsFetching}\n                setFollowingInProgress={this.props.setFollowingInProgress}\n                followingInProgress={this.props.followingInProgress}\n                followSuccess={this.props.followSuccess}\n                unfollowSuccess={this.props.unfollowSuccess} />\n        </>\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        totalItemsCount: getTotalItemsCount(state),\n        pageSize: getPageSize(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n        setIsFetching, setFollowingInProgress,\n        requestUsers, followSuccess, unfollowSuccess\n    })\n)(UsersAPIComponent)\n"],"names":["props","className","styles","to","userId","src","userPhoto","alt","userName","status","followed","disabled","followingInProgress","some","id","onClick","setIsFetching","setFollowingInProgress","axios","withCredentials","headers","then","response","data","resultCode","unfollowSuccess","post","followSuccess","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","portionCount","useState","portionNumber","setPortionNumber","leftBorderElement","rightBorderElement","pages","i","push","filter","p","map","e","users","u","photos","small","name","isFetching","getUsers","state","usersPage","getTotalItemsCount","getPageSize","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","page","requestUsers","this","Preloader","React","compose","connect"],"sourceRoot":""}